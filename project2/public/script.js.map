{"version":3,"file":"script.js","mappings":"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","sources":["webpack://project2/./src/constant.js","webpack://project2/./src/listeners.js","webpack://project2/./src/render.js","webpack://project2/./src/service.js","webpack://project2/./src/state.js","webpack://project2/webpack/bootstrap","webpack://project2/webpack/runtime/define property getters","webpack://project2/webpack/runtime/hasOwnProperty shorthand","webpack://project2/webpack/runtime/make namespace object","webpack://project2/./src/script.js"],"sourcesContent":["export const SERVER = {\n    AUTH_MISSING: 'Authentication missing',\n    AUTH_INSUFFICIENT: 'Authentication insufficient',\n    REQUIRED_USERNAME: 'Username required',\n    REQUIRED_MESSAGE: 'Message required',\n  };\n  \n  export const CLIENT = {\n    NETWORK_ERROR: 'Network error',\n    NO_SESSION: 'No session',\n  };\n  \n  export const MESSAGES = {\n    [CLIENT.NETWORK_ERROR]: 'There seems to be a problem with the network. Please try again.',\n    [SERVER.AUTH_INSUFFICIENT]: 'The username/password combination does not match our records. Please try again.',\n    [SERVER.REQUIRED_USERNAME]: 'Please enter a valid username (only letters and/or numbers are allowed).',\n    [SERVER.REQUIRED_MESSAGE]: 'Please enter a message to send.',\n    default: 'An unexpected error occurred. Please try again.',\n  };","// services.js\nimport {\n  fetchSendMessage,\n  fetchGetMessages,\n  fetchUserStatus,\n  fetchLogin,\n  fetchLogout,\n  fetchSession,\n  fetchLoginUsers,\n} from \"./service\";\n\n// render.js\nimport render from \"./render\";\n\n// state.js\nimport {\n  MESSAGES,\n  waitOnLogin,\n  login,\n  logout,\n  waitOnMessages,\n  setMessages,\n  addMessage,\n  setError,\n} from \"./state\";\n\n// Adding ability to send a chat message\nexport function addAbilityToSendMessage({ state, appEl }) {\n  appEl.addEventListener(\"submit\", (e) => {\n    if (!e.target.classList.contains(\"add-message__form\")) {\n      return;\n    }\n    e.preventDefault();\n\n    const messageText = appEl.querySelector(\".add-message__text\").value;\n    waitOnMessages();\n    render({ state, appEl }); // show loading state\n    fetchSendMessage(messageText)\n      .then((messages) => {\n        setMessages(messages);\n        // state.messages.push(messages); // Add the new message to the state\n        render({ state, appEl });\n      })\n      .catch((err) => {\n        setError(err?.error || \"ERROR\"); // Ensure that the error ends up truthy\n        render({ state, appEl });\n      });\n  });\n}\n\n// Adding ability to login\nexport function addLoginListener({ state, appEl }) {\n  appEl.addEventListener(\"submit\", (e) => {\n    if (!e.target.classList.contains(\"login__form\")) {\n      return;\n    }\n    e.preventDefault();\n\n    const username = appEl.querySelector(\".login__username\").value;\n    waitOnLogin();\n    render({ state, appEl }); // show loading state\n    fetchLogin(username)\n      // .then(() => {\n      //   login(username);\n      //   render({ state, appEl });\n\n      // })\n      .then(({ error, user }) => {\n        state.isLoggedIn = true;\n        state.error = error; // Clear the error\n        state.user = user;\n        render({ state, appEl });\n      })\n      .catch((err) => {\n        setError(err?.error || \"ERROR\"); // Ensure that the error ends up truthy\n        render({ state, appEl });\n      });\n  });\n}\n\n// Adding ability to logout\nexport function addLogoutListener({ state, appEl }) {\n  appEl.addEventListener(\"click\", (e) => {\n    if (!e.target.classList.contains(\"logout__button\")) {\n      return;\n    }\n    logout();\n    render({ state, appEl });\n    fetchLogout().catch((err) => {\n      setError(err?.error || \"ERROR\"); // Ensure that the error ends up truthy\n      render({ state, appEl });\n    });\n  });\n}\n","export function render({ state, appEl }) {\n    const html = `\n    ${generateStatusHtml(state)}\n      <main class=\"\">\n        ${generateHeaderHtml(state)}\n        ${generateChatHtml(state)}\n        \n      </main>\n    `;\n    appEl.innerHTML = html;\n  }\n  \n  function generateHeaderHtml(state) {\n    if (state.isLoggedIn) {\n      return generateLogoutHtml(state);\n    } else {\n      return generateLoginHtml(state);\n    }\n  }\n  \n  function generateChatHtml(state) {\n    return `\n      <div class=\"chat\">\n        \n        \n        ${generateMessagesHtml(state)}\n        ${generateAddMessageHtml(state)}\n      </div>\n    `;\n  }\n  \n  function generateStatusHtml(state) {\n    // return `\n    //   <div class=\"status\">${state.error}</div>\n    // `;\n    if (!state.error) {\n\t\treturn \"\";\n\t}\n  return `\n      <div class=\"error\">${state.error}</div>\n  `;\n  }\n  \n  function generateMessagesHtml(state) {\n    return `\n      <ul class=\"messages\">${generateMessagesListHtml(state)}</ul>\n    `;\n    \n}\n  \n  \n  function generateMessagesListHtml(state) {\n    // return Object.values(state.messages).map((message) => {\n    return state.messages.map((message) => {\n      return `\n        <li class=\"messages\">\n          <span class=\"message__user\">${message.sender}:</span>\n          <span class=\"message__text\">${message.text}</span>\n        </li>\n      `;\n    }).join('') || '<p>No messages yet, start chatting!</p>';\n  }\n  \n  function generateAddMessageHtml(state) {\n    if (!state.isLoggedIn) {\n      return '';\n    }\n  \n    return `\n      <form class=\"add-message__form\" action=\"#/add\">\n        <input class=\"add-message__text\" placeholder=\"Type your message...\">\n        <button type=\"submit\" class=\"add-message__button\">Send</button>\n      </form>\n    `;\n  }\n  \n  function generateLoginHtml(state) {\n  \n    if (state.isLoginPending) {\n      return `\n        <div class=\"login__waiting\">Logging in...</div>\n      `;\n    }\n\tif (state.isLoggedIn) \n\t\treturn '';\n\t\n  \n    return (`\n      <div class=\"login\">\n        <form class=\"login__form\" action=\"#/login\">\n          <label>\n            <span>Username:</span>\n            <input class=\"login__username\" value=\"\">\n          </label>\n          <button class=\"login__button\" type=\"submit\">Login</button>\n        </form>\n      </div>\n    `);\n\n  }\n  \n  function generateLogoutHtml(state) {\n    if (!state.isLoggedIn) {\n\t\treturn \"\";\n\t}\n    return `\n      <div class=\"logout\">\n        <button class=\"logout__button\">Logout</button>\n      </div>\n    `;\n  }\nexport function renderUsers({ state, appEl }) {\n\tconst usersEl = appEl.querySelector('.users');\n\tif (!usersEl) return;\n\tusersEl.innerHTML = generateUsersHTML(state);\n}\nexport function renderMessages({ state, appEl }) {\n\tconst messagesEl = appEl.querySelector('.messages');\n\tif (!messagesEl) return;\n\tmessagesEl.innerHTML = generateMessagesHtml(state);\n}\nexport default render;","  export function fetchLogin(username) {\n    return fetch('/api/session', {\n      method: 'POST',\n      headers: new Headers({\n        'content-type': 'application/json',\n      }),\n      body: JSON.stringify({ username }),\n    })\n    .catch(() => Promise.reject({ error: 'networkError' }))\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return response.json()\n        .catch(error => Promise.reject({ error }))\n        .then(err => Promise.reject(err));\n    });\n  }\n  \n  export function fetchLogout() {\n    return fetch('/api/session', {\n      method: 'DELETE',\n    })\n    .catch(() => Promise.reject({ error: 'networkError' }))\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return response.json()\n        .catch(error => Promise.reject({ error }))\n        .then(err => Promise.reject(err));\n    });\n  }\n  export function fetchSession() {\n    return fetch('/api/session')\n    .catch(() => Promise.reject({ error: 'networkError' }))\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return response.json()\n        .catch(error => Promise.reject({ error }))\n        .then(err => Promise.reject(err));\n    });\n  }  \nexport function fetchSendMessage(message) {\n    return fetch('/api/messages', {\n      method: 'POST',\n      headers: new Headers({\n        'content-type': 'application/json',\n      }),\n      body: JSON.stringify({ message }),\n    })\n    .catch(() => Promise.reject({ error: 'networkError' }))\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return response.json()\n        .catch(error => Promise.reject({ error }))\n        .then(err => Promise.reject(err));\n    });\n  }\n  \n  export function fetchGetMessages() {\n    return fetch('/api/messages', { method: 'GET' })\n    .catch(() => Promise.reject({ error: 'networkError' }))\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return response.json()\n        .catch(error => Promise.reject({ error }))\n        .then(err => Promise.reject(err));\n    });\n  }\n  export function fetchLoginUsers() {\n\treturn fetch(\"/api/users\", {\n\t\tmethod: \"GET\",\n\t})\n\t\t.catch((err) => Promise.reject({ error: \"network-error\" }))\n\t\t.then((response) => {\n\t\t\tif (response.ok) {\n\t\t\t\treturn response.json();\n\t\t\t}\n\t\t\treturn response\n\t\t\t\t.json()\n\t\t\t\t.catch((error) => Promise.reject({ error }))\n\t\t\t\t.then((err) => [Promise.reject(err)]);\n\t\t});\n}\n  export function fetchUserStatus() {\n    return fetch('/api/user/status', {\n      method: 'GET',\n    })\n    .catch(() => Promise.reject({ error: 'networkError' }))\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return response.json()\n        .catch(error => Promise.reject({ error }))\n        .then(err => Promise.reject(err));\n    });\n  }\n  ","import { MESSAGES } from './constant';\n\nconst state = {\n  messages: [],\n  isLoggedIn: false,\n  isLoginPending: true,\n  isMessagePending: false,\n  isUsersPending: false,\n  username: {},\n  lastAddedMessageId: '',\n  error: '',\n  showError: false,\n};\n\nexport function waitOnLogin() {\n  state.isLoggedIn = false;\n  state.isLoginPending = true;\n  state.username = {};\n  state.messages = [];\n  state.error = '';\n  state.showError = false;\n}\n\nexport function login() {\n  state.isLoggedIn = true;\n  state.isLoginPending = false;\n  state.username = username;\n  state.error = '';\n  state.lastAddedMessageId = '';\n  state.showError = false;\n}\n\nexport function logout() {\n  state.isLoggedIn = false;\n  state.isLoginPending = false;\n  state.username = {};\n  state.messages = [];\n  state.error = '';\n  state.showError = false;\n}\n\nexport function waitOnMessages() {\n  state.messages = [];\n  state.isMessagePending = true;\n  state.error = '';\n  state.showError = false;\n}\n\nexport function setMessages(messages) {\n  state.messages = messages;\n  state.isMessagePending = false;\n  state.error = '';\n  state.lastAddedMessageId = '';\n  state.showError = false;\n}\n\nexport function addMessage({ id, message }) {\n  state.messages[id] = message;\n  state.lastAddedMessageId = id;\n  state.error = '';\n}\n\nexport function setError(error) {\n\n  if (!error) {\n    state.showError = false;\n    state.error = '';\n    \n  }else {\n    state.showError = true;\n    state.error = MESSAGES[error] || MESSAGES.default;\n}\n}\nexport function waitOnUsers() {\n\tstate.username = {};\n\tstate.isUsersPending = true;\n\tstate.error = '';\n    state.showError = false;\n}\nexport function setUsers(users) {\n\tstate.username = users;\n\tstate.isUsersPending = false;\n\tstate.error = '';\n    state.showError = false;\n}\n\nexport function setLoginUsers(data) {\n    state.isMessagePending = false\n      state.users = data;\n    state.error = \"\";\n    state.showError = false;\n  }\nexport default state;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { SERVER, CLIENT } from './constant';\nimport state, {\n  login,\n  logout,\n  waitOnLogin,\n  waitOnMessages,\n  setMessages,\n  setError,\n  setUsers, \n} from './state';\nimport {\n  fetchSendMessage,\n  fetchGetMessages,\n  fetchSession,\n  fetchLoginUsers,\n} from './service';\nimport {render, renderMessages} from './render';\nimport {\n  addLoginListener,\n  addAbilityToSendMessage,\n  addLogoutListener,\n} from './listeners';\n\nconst appEl = document.querySelector('#app');\n\nrender({ state, appEl });\naddLoginListener({ state,  appEl });\naddLogoutListener({ state, appEl });\naddAbilityToSendMessage({ state, appEl });\ncheckForSession();\n\n\nfunction checkForSession() {\n    waitOnLogin();\n    console.log(\"state,\", state.messages)\n    render({ state, appEl });\n    fetchSession()\n        \n        .then(() => {\n            login();\n            waitOnLogin();\n            waitOnMessages();\n            render({ state, appEl });\n            return Promise.all([fetchLoginUsers(), fetchGetMessages()]);\n        })\n        // .then((data) => {\n        //     setUsers(data[0]);\n        //     setMessages(data[1]);\n        //     render({ state, appEl });\n        // })\n        .catch((err) => {\n            // return Promise.reject(err);\n            state.isLoginPending = false;\n            render({ state, appEl });\n\n            // if (err?.error === SERVER.AUTH_MISSING) {\n                \n            //     logout();\n            //     render({ state, appEl });\n            // } else {\n            //     setError(err?.error || 'ERROR');\n            //     render({ state, appEl });\n            // }\n        })\n        .then((users) => {\n\t\t\tsetUsers(users);\n\t\t\trender({ state, appEl });\n\t\t\treturn fetchGetMessages();\n\t\t})\n        .then((messages) => {\n\t\t\tsetMessages(messages);\n\t\t\trender({ state, appEl });\n\t\t})\n        .then(() => {\n            setInterval(refreshUsersAndMessages, 5000);\n        });\n}\n\nfunction refreshUsersAndMessages() {\n    if (!state.isLoggedIn) return;\n\n    fetchLoginUsers()\n        .then((users) => {\n            setUsers(users);\n            renderUsers({ state, appEl });\n            return fetchGetMessages();\n        })\n        .then((messages) => {\n            // This line makes sure that if there is no new message, it will not render.\n            if (messages.length === state.messages.length) return;\n            setMessages(messages);\n            renderMessages({ state, appEl });\n        })\n        .catch((err) => {\n            if (err?.error === SERVER.AUTH_MISSING) {\n                logout();\n                render({ state, appEl });\n            } else {\n                setError(err?.error || 'ERROR');\n                render({ state, appEl });\n            }\n        });\n}\n\n"],"names":["SERVER","AUTH_MISSING","AUTH_INSUFFICIENT","REQUIRED_USERNAME","REQUIRED_MESSAGE","CLIENT","NETWORK_ERROR","NO_SESSION","MESSAGES","_defineProperty","fetchSendMessage","fetchGetMessages","fetchUserStatus","fetchLogin","fetchLogout","fetchSession","fetchLoginUsers","render","waitOnLogin","login","logout","waitOnMessages","setMessages","addMessage","setError","addAbilityToSendMessage","_ref","state","appEl","addEventListener","e","target","classList","contains","preventDefault","messageText","querySelector","value","then","messages","err","error","addLoginListener","_ref2","username","_ref3","user","isLoggedIn","addLogoutListener","_ref4","html","concat","generateStatusHtml","generateHeaderHtml","generateChatHtml","innerHTML","generateLogoutHtml","generateLoginHtml","generateMessagesHtml","generateAddMessageHtml","generateMessagesListHtml","map","message","sender","text","join","isLoginPending","renderUsers","usersEl","generateUsersHTML","renderMessages","messagesEl","fetch","method","headers","Headers","body","JSON","stringify","Promise","reject","response","ok","json","isMessagePending","isUsersPending","lastAddedMessageId","showError","id","waitOnUsers","setUsers","users","setLoginUsers","data","document","checkForSession","console","log","all","setInterval","refreshUsersAndMessages","length"],"sourceRoot":""}